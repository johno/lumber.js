function hasLumberDependencies(){return"d3"in window&&"addEventListener"in window&&"querySelector"in document&&Array.prototype.forEach}function lumber_getGraphs(){return document.querySelectorAll(".lumber")}function lumber_resizeResponsiveGraphs(){}function lumber_parseChartData(t){return dataPoints=t.split(","),dataPoints.map(function(t){return data={},data.y=t.split(":")[1],data.x=t.split(":")[0],data})}function lumber_graph(t){t=d3.select(t),lumberOpts={},lumberOpts.data=lumber.parseChartData(t.attr("data-lumber-values")),lumberOpts.width=t.attr("data-lumber-width")||500,lumberOpts.height=t.attr("data-lumber-height")||250,lumberOpts.type=t.attr("data-lumber-type")||"bar",lumberOpts.yAxis=t.attr("data-lumber-y-axis-label")||"",lumberOpts.xAxis=t.attr("data-lumber-x-axis-label")||"","bar"==lumberOpts.type?lumber.barChart(t,lumberOpts):"pie"==lumberOpts.type?lumber.pieChart(t,lumberOpts):"line"==lumberOpts.type?lumber.lineChart(t,lumberOpts):"histogram"==lumberOpts.type?lumber.histogram(t,lumberOpts):"scatterplot"==lumberOpts.type?lumber.scatterplot(t,lumberOpts):"stackedbar"==lumberOpts.type&&lumber.stackedBar(t,lumberOpts)}function lumber_barChart(t,e){var a={top:20,right:30,bottom:30,left:40},r=e.width-a.left-a.right,n=e.height-a.top-a.bottom,l=d3.scale.ordinal().rangeRoundBands([0,r],.1),s=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(l).orient("bottom"),u=d3.svg.axis().scale(s).orient("left").ticks(3,"");l.domain(e.data.map(function(t){return t.y})),s.domain([0,d3.max(e.data,function(t){return t.x})]);var o=t.attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+a.left+","+a.top+")");o.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i).append("text").attr("y",30).attr("x",a.left-6).attr("dx",".71em").style("text-anchor","end").text(e.xAxis),o.append("g").attr("class","y axis").call(u).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(e.yAxis),o.selectAll(".bar").data(e.data).enter().append("rect").attr("class","bar").attr("x",function(t){return l(t.y)}).attr("y",function(t){return s(t.x)}).attr("height",function(t){return n-s(t.x)}).attr("width",l.rangeBand())}function lumber_pieChart(t,e){var a=960,r=300,n=Math.min(a,r)/2,l=d3.scale.ordinal().range(["#98abc5","#8a89a6","#7b6888","#6b486b","#a05d56","#d0743c","#ff8c00"]),s=d3.svg.arc().outerRadius(n-10).innerRadius(0),i=d3.layout.pie().sort(null).value(function(t){return t.x}),u=t.attr("width",a).attr("height",r).append("g").attr("transform","translate("+a/2+","+r/2+")");e.data.forEach(function(t){t.x=+t.x});var o=u.selectAll(".arc").data(i(e.data)).enter().append("g").attr("class","arc");o.append("path").attr("d",s).style("fill",function(t){return l(t.data.x)}),o.append("text").attr("transform",function(t){return"translate("+s.centroid(t)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(t){return console.log(t.data.y),t.data.y})}function lumber_lineChart(t,e){var a={top:20,right:30,bottom:30,left:40},r=e.width-a.left-a.right,n=e.height-a.top-a.bottom,l=d3.time.format("%d-%b-%y");e.data.forEach(function(t){t.x=l.parse(t.x),t.y=+t.y});var s=d3.time.scale().range([0,r]),i=d3.scale.linear().range([n,0]),u=d3.svg.axis().scale(s).orient("bottom"),o=d3.svg.axis().scale(i).orient("left"),d=d3.svg.line().x(function(t){return s(t.x)}).y(function(t){return i(t.y)}),m=t.attr("width",r+a.left+a.right).attr("height",n+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");s.domain(d3.extent(e.data,function(t){return t.x})),i.domain(d3.extent(e.data,function(t){return t.y})),m.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(u),m.append("g").attr("class","y axis").call(o).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Price ($)"),m.append("path").datum(e.data).attr("class","line").attr("d",d)}function lumber_histogram(){}function lumber_scatterplot(){}function lumber_stackedBar(){}var lumber={};lumber.getGraphs=lumber_getGraphs,lumber.resizeResponsiveGraphs=lumber_resizeResponsiveGraphs,lumber.parseChartData=lumber_parseChartData,lumber.graph=lumber_graph,lumber.barChart=lumber_barChart,lumber.pieChart=lumber_pieChart,lumber.lineChart=lumber_lineChart,lumber.histogram=lumber_histogram,lumber.scatterplot=lumber_scatterplot,lumber.stackedBar=lumber_stackedBar,hasLumberDependencies()||console.log("Missing dependencies for lumber.js."),window.addEventListener("resize",function(){window.resizing&&clearTimeout(window.resizing),window.resizing=setTimeout(function(){lumber.resizeResponsiveGraphs()},300)});