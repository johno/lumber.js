function hasLumberDependencies(){return"d3"in window&&"addEventListener"in window&&"querySelector"in document&&Array.prototype.forEach}function lumber_getGraphs(){return document.querySelectorAll(".lumber")}function lumber_parseChartData(t){return dataPoints=t.split(","),dataPoints.map(function(t){return data={},data.y=t.split(":")[1],data.x=t.split(":")[0],data})}function lumber_graph(t){t=d3.select(t),lumberOpts={},lumberOpts.data=lumber.parseChartData(t.attr("data-lumber-values")),lumberOpts.width=t.attr("data-lumber-width")||500,lumberOpts.height=t.attr("data-lumber-height")||250,lumberOpts.type=t.attr("data-lumber-type")||"bar",lumberOpts.yAxis=t.attr("data-lumber-y-axis-label")||"",lumberOpts.xAxis=t.attr("data-lumber-x-axis-label")||"","bar"==lumberOpts.type?lumber.barChart(t,lumberOpts):"pie"==lumberOpts.type?lumber.pieChart(t,lumberOpts):"line"==lumberOpts.type?lumber.lineChart(t,lumberOpts):"histogram"==lumberOpts.type?lumber.histogram(t,lumberOpts):"scatterplot"==lumberOpts.type&&lumber.scatterplot(t,lumberOpts)}function lumber_barChart(t,a){var r={top:20,right:30,bottom:30,left:40},e=a.width-r.left-r.right,l=a.height-r.top-r.bottom,n=d3.scale.ordinal().rangeRoundBands([0,e],.1),s=d3.scale.linear().range([l,0]),i=d3.svg.axis().scale(n).orient("bottom"),u=d3.svg.axis().scale(s).orient("left").ticks(3,"");n.domain(a.data.map(function(t){return t.y})),s.domain([0,d3.max(a.data,function(t){return t.x})]);var m=t.attr("width",a.width).attr("height",a.height).append("g").attr("transform","translate("+r.left+","+r.top+")");m.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(i).append("text").attr("y",30).attr("x",r.left-6).attr("dx",".71em").style("text-anchor","end").text(a.xAxis),m.append("g").attr("class","y axis").call(u).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(a.yAxis),m.selectAll(".bar").data(a.data).enter().append("rect").attr("class","bar").attr("x",function(t){return n(t.y)}).attr("y",function(t){return s(t.x)}).attr("height",function(t){return l-s(t.x)}).attr("width",n.rangeBand())}function lumber_pieChart(){}function lumber_lineChart(t,a){var r={top:20,right:30,bottom:30,left:40},e=a.width-r.left-r.right,l=a.height-r.top-r.bottom,n=d3.time.format("%d-%b-%y");a.data.forEach(function(t){t.x=n.parse(t.x),t.y=+t.y});var s=d3.time.scale().range([0,e]),i=d3.scale.linear().range([l,0]),u=d3.svg.axis().scale(s).orient("bottom"),m=d3.svg.axis().scale(i).orient("left"),o=d3.svg.line().x(function(t){return s(t.x)}).y(function(t){return i(t.y)}),p=t.attr("width",e+r.left+r.right).attr("height",l+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");s.domain(d3.extent(a.data,function(t){return t.x})),i.domain(d3.extent(a.data,function(t){return t.y})),p.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(u),p.append("g").attr("class","y axis").call(m).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Price ($)"),p.append("path").datum(a.data).attr("class","line").attr("d",o)}function lumber_histogram(){}function lumber_scatterplot(){}var lumber={};lumber.getGraphs=lumber_getGraphs,lumber.parseChartData=lumber_parseChartData,lumber.graph=lumber_graph,lumber.barChart=lumber_barChart,lumber.pieChart=lumber_pieChart,lumber.lineChart=lumber_lineChart,lumber.histogram=lumber_histogram,lumber.scatterplot=lumber_scatterplot,hasLumberDependencies()||console.log("Missing dependencies for lumber.js.");